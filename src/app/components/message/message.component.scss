.message {
    padding: 0.75rem;
    margin-bottom: 1rem;
    border-radius: 8px;
    max-width: 75%;
    position: relative;
    word-wrap: break-word;

    &.sent {
        background-color: #4a90e2;
        color: white;
        align-self: flex-end;
        border-bottom-right-radius: 2px;
        margin-left: auto;

        .timestamp {
            color: rgba(255, 255, 255, 0.7);
        }

        .username {
            color: rgba(255, 255, 255, 0.9);
        }
    }

    &.received {
        background-color: #f1f1f1;
        color: #333;
        align-self: flex-start;
        border-bottom-left-radius: 2px;
        margin-right: auto;

        // Apply the user color to username and a subtle border
        .username {
            color: var(--user-color);
            font-weight: bold;
        }

        // Add a colored left border for visual distinction
        border-left: 4px solid var(--user-color);

        .timestamp {
            color: rgba(0, 0, 0, 0.5);
        }
    }

    &.system {
        background-color: rgba(0, 0, 0, 0.05);
        color: #666;
        align-self: center;
        font-style: italic;
        text-align: center;
        max-width: 90%;

        .timestamp {
            color: rgba(0, 0, 0, 0.3);
        }
    }

    .username {
        font-weight: bold;
        margin-bottom: 0.25rem;
    }

    .content {
        word-break: break-word;
    }

    .timestamp {
        font-size: 0.75rem;
        margin-top: 0.25rem;
        text-align: right;
    }
}